<mxfile host="app.diagrams.net" modified="2024-12-01T00:00:00.000Z" agent="draw.io" version="22.0.0">
  <diagram name="Entity Relationships" id="entity-relationships">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1200" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Title -->
        <mxCell id="title" value="Entity Relationship Diagram" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=16;" vertex="1" parent="1">
          <mxGeometry x="450" y="10" width="300" height="30" as="geometry"/>
        </mxCell>
        
        <!-- CUSTOMERS TABLE -->
        <mxCell id="customers" value="CUSTOMERS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="80" y="60" width="160" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="cust-pk" value="customer_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="customers">
          <mxGeometry y="26" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="cust-email" value="email" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="customers">
          <mxGeometry y="46" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="cust-name" value="first_name, last_name" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="customers">
          <mxGeometry y="66" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="cust-tier" value="loyalty_tier" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="customers">
          <mxGeometry y="86" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="cust-profile" value="skin_profile (OBJECT)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="customers">
          <mxGeometry y="106" width="160" height="20" as="geometry"/>
        </mxCell>
        
        <!-- FACE_EMBEDDINGS -->
        <mxCell id="face-emb" value="FACE_EMBEDDINGS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="80" y="220" width="160" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="fe-pk" value="embedding_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="face-emb">
          <mxGeometry y="26" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="fe-fk" value="customer_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="face-emb">
          <mxGeometry y="46" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="fe-vec" value="embedding VECTOR(128)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="face-emb">
          <mxGeometry y="66" width="160" height="20" as="geometry"/>
        </mxCell>
        
        <!-- PRODUCTS TABLE -->
        <mxCell id="products" value="PRODUCTS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="480" y="60" width="160" height="150" as="geometry"/>
        </mxCell>
        <mxCell id="prod-pk" value="product_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="products">
          <mxGeometry y="26" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="prod-name" value="name, brand" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="products">
          <mxGeometry y="46" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="prod-cat" value="category" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="products">
          <mxGeometry y="66" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="prod-color" value="color_hex, color_lab" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="products">
          <mxGeometry y="86" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="prod-price" value="price" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="products">
          <mxGeometry y="106" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="prod-finish" value="finish" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="products">
          <mxGeometry y="126" width="160" height="20" as="geometry"/>
        </mxCell>
        
        <!-- PRODUCT_VARIANTS -->
        <mxCell id="variants" value="PRODUCT_VARIANTS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="340" y="250" width="140" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="var-pk" value="variant_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="variants">
          <mxGeometry y="26" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="var-fk" value="product_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="variants">
          <mxGeometry y="46" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="var-shade" value="shade_name, sku" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="variants">
          <mxGeometry y="66" width="140" height="20" as="geometry"/>
        </mxCell>
        
        <!-- PRODUCT_MEDIA -->
        <mxCell id="media" value="PRODUCT_MEDIA" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="500" y="250" width="130" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="med-pk" value="media_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="media">
          <mxGeometry y="26" width="130" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="med-fk" value="product_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="media">
          <mxGeometry y="46" width="130" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="med-url" value="url, media_type" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="media">
          <mxGeometry y="66" width="130" height="20" as="geometry"/>
        </mxCell>
        
        <!-- PRODUCT_LABELS -->
        <mxCell id="labels" value="PRODUCT_LABELS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="650" y="250" width="140" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="lab-pk" value="label_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="labels">
          <mxGeometry y="26" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="lab-fk" value="product_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="labels">
          <mxGeometry y="46" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="lab-type" value="label_type, text" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="labels">
          <mxGeometry y="66" width="140" height="20" as="geometry"/>
        </mxCell>
        
        <!-- CART_SESSIONS (HYBRID) -->
        <mxCell id="checkout" value="CART_SESSIONS&#xa;(HYBRID TABLE)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="280" y="420" width="160" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="chk-pk" value="session_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="checkout">
          <mxGeometry y="30" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="chk-fk" value="customer_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="checkout">
          <mxGeometry y="50" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="chk-status" value="status, total_cents" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="checkout">
          <mxGeometry y="70" width="160" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="chk-total" value="âš¡ ACID transactions" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;fontSize=9;" vertex="1" parent="checkout">
          <mxGeometry y="90" width="160" height="20" as="geometry"/>
        </mxCell>
        
        <!-- CART_ITEMS (HYBRID) -->
        <mxCell id="line-items" value="CART_ITEMS&#xa;(HYBRID TABLE)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="480" y="420" width="140" height="110" as="geometry"/>
        </mxCell>
        <mxCell id="li-pk" value="item_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="line-items">
          <mxGeometry y="30" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="li-fk1" value="session_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="line-items">
          <mxGeometry y="50" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="li-fk2" value="product_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="line-items">
          <mxGeometry y="70" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="li-qty" value="quantity, price" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="line-items">
          <mxGeometry y="90" width="140" height="20" as="geometry"/>
        </mxCell>
        
        <!-- SOCIAL_MENTIONS -->
        <mxCell id="social" value="SOCIAL_MENTIONS" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="680" y="420" width="140" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="soc-pk" value="mention_id (PK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=4;" vertex="1" parent="social">
          <mxGeometry y="26" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="soc-fk" value="product_id (FK)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fontStyle=2;" vertex="1" parent="social">
          <mxGeometry y="46" width="140" height="20" as="geometry"/>
        </mxCell>
        <mxCell id="soc-plat" value="platform, content" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="social">
          <mxGeometry y="66" width="140" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Relationships -->
        <mxCell id="rel-cust-embed" value="" style="endArrow=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;" edge="1" parent="1" source="customers" target="face-emb">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-prod-var" value="" style="endArrow=none;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;curved=1;" edge="1" parent="1" source="products" target="variants">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-prod-media" value="" style="endArrow=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;" edge="1" parent="1" source="products" target="media">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-prod-labels" value="" style="endArrow=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;curved=1;" edge="1" parent="1" source="products" target="labels">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-cust-checkout" value="" style="endArrow=none;html=1;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;curved=1;" edge="1" parent="1" source="customers" target="checkout">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-checkout-items" value="" style="endArrow=none;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;" edge="1" parent="1" source="checkout" target="line-items">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <mxCell id="rel-prod-social" value="" style="endArrow=none;html=1;startArrow=ERone;startFill=0;endArrow=ERmany;endFill=0;curved=1;" edge="1" parent="1" source="products" target="social">
          <mxGeometry width="50" height="50" relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Legend -->
        <mxCell id="legend" value="Color Legend:&#xa;ðŸ”µ Customers Schema&#xa;ðŸŸ¡ Products Schema&#xa;ðŸ”´ CART_OLTP (Hybrid)&#xa;ðŸŸ£ Social Schema" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;align=left;spacingLeft=10;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="850" y="60" width="150" height="100" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>

